<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Convite 15 anos â€“ Lorena</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React + ReactDOM + Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Meta tags para WhatsApp e redes sociais -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Os 15 anos de Lorena">
  <meta property="og:description" content="âœ¨ VocÃª estÃ¡ convidado(a) para viver este momento especial. Acesse o convite digital dos 15 anos de Lorena âœ¨">
  <meta property="og:image" content="https://lamoureventos.github.io/Lorena15anos/img/capa.jpg">
  <meta property="og:url" content="https://lamoureventos.github.io/Lorena15anos/">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="img/favicon.jpg">

  <style>
    * { -webkit-tap-highlight-color: transparent; scroll-behavior: smooth; }
  </style>
</head>

<body class="min-h-screen bg-rose-50 overflow-x-hidden">
  <div id="root"></div>

  <script type="text/babel">
    const { useEffect, useMemo, useRef, useState } = React;

    function QuinzeAnosConvite({
      eventDateTime = "2025-11-15T20:00:00-03:00",
      debutante = "Lorena",
      title = "Os 15 anos de Lorena",
      locationName = "SalÃ£o de Festas Realizze",
      locationCity = "Bugio - Aracaju/SE",
      mapsUrl = "https://maps.app.goo.gl/wgPXgraLmGDtmhiDA",
      whatsappNumber = "5579999986145",
      coverImages = ["img/capa.jpg", "img/capa2.jpg", "img/capa3.jpg", "img/capa4.jpg", "img/capa5.jpg", "img/capa6.jpg", "img/capa7.jpg", "img/capa8.jpg", "img/capa9.jpg", "img/capa10.jpg", "img/capa11.jpg", "img/capa12.jpg", "img/capa13.jpg", "img/capa14.jpg", "img/capa15.jpg", "img/capa16.jpg", "img/capa17.jpg", "img/capa18.jpg", "img/capa19.jpg", "img/capa20.jpg", "img/capa21.jpg", "img/capa22.jpg"],
      audioSrc = "audio/Perfect.mp3",
    }) {
      const targetDate = useMemo(() => new Date(eventDateTime), [eventDateTime]);
      const [now, setNow] = useState(new Date());
      const [isMuted, setIsMuted] = useState(true);
      const [hasInteracted, setHasInteracted] = useState(false);
      const [fadeIn, setFadeIn] = useState(true);
      const [currentImage, setCurrentImage] = useState(0);
      const audioRef = useRef(null);

      useEffect(() => {
        const id = setInterval(() => setNow(new Date()), 1000);
        const fade = setTimeout(() => setFadeIn(false), 3500);
        const slideshow = setInterval(() => {
          setCurrentImage((prev) => (prev + 1) % coverImages.length);
        }, 3000);
        return () => { clearInterval(id); clearTimeout(fade); clearInterval(slideshow); };
      }, [coverImages.length]);

      useEffect(() => {
        if (audioRef.current) {
          audioRef.current.volume = 0.6;
          if (!isMuted && hasInteracted) {
            audioRef.current.play().catch(() => {});
          }
        }
      }, [isMuted, hasInteracted]);

      const handlePlayMusic = () => {
        setHasInteracted(true);
        setIsMuted(false);
      };

      const diff = Math.max(0, targetDate.getTime() - now.getTime());
      const seconds = Math.floor(diff / 1000) % 60;
      const minutes = Math.floor(diff / (1000 * 60)) % 60;
      const hours = Math.floor(diff / (1000 * 60 * 60)) % 24;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));

      const whatsappHref = useMemo(() => {
        const texto = `OlÃ¡! Confirmo presenÃ§a nos 15 anos de ${debutante}. Estarei lÃ¡!`;
        return `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(texto)}`;
      }, [whatsappNumber, debutante]);

      return (
        <div className="min-h-screen w-full relative overflow-hidden bg-gradient-to-b from-rose-50 via-sky-50 to-sky-100 text-rose-950">
          <BackgroundElegante />

          <audio ref={audioRef} src={audioSrc} loop playsInline muted={isMuted} />

          <header className="relative z-10 flex items-center justify-between px-4 sm:px-6 md:px-8 py-3 sm:py-4">
            <h1 className="font-extrabold tracking-tight text-lg sm:text-xl md:text-2xl">
              <span className="bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-sky-400 to-sky-700">
                {title}
              </span>
            </h1>
            <button
              className="rounded-full border border-white/30 bg-white/50 hover:bg-white/70 transition px-3 py-1 text-xs sm:text-sm"
              onClick={() => {
                setHasInteracted(true);
                setIsMuted((m) => !m);
              }}
            >
              {isMuted ? "ðŸ”‡ Tocar mÃºsica" : "ðŸ”Š Silenciar"}
            </button>
          </header>

          <main className="relative z-10 flex flex-col items-center text-center px-3 sm:px-4">
            <div
              className="relative w-full max-w-3xl aspect-[4/3] sm:aspect-[16/9] rounded-3xl overflow-hidden shadow-2xl cursor-pointer group"
              onClick={handlePlayMusic}
              title="Clique para ativar o som"
            >
              {/* Fundo blur para imagens verticais */}
              {coverImages.map((img, index) => (
                <div
                  key={`bg-${index}`}
                  className={`absolute inset-0 transition-opacity duration-700 ${index === currentImage ? "opacity-100" : "opacity-0"}`}
                  style={{
                    backgroundImage: `url(${img})`,
                    backgroundPosition: "center",
                    backgroundSize: "cover",
                    filter: "blur(20px) brightness(0.9)",
                    transform: "scale(1.1)",
                  }}
                />
              ))}

              {/* Foto principal sem corte */}
              {coverImages.map((img, index) => (
                <img
                  key={`fg-${index}`}
                  src={img}
                  alt={`Foto ${index + 1} de ${debutante}`}
                  className={`absolute inset-0 m-auto max-w-full max-h-full w-auto h-auto object-contain transition-opacity duration-1000 ${
                    index === currentImage ? "opacity-100" : "opacity-0"
                  }`}
                  loading={index === 0 ? "eager" : "lazy"}
                />
              ))}
                {/* Overlay rosÃ© suave por cima da foto */}
              <div className="absolute inset-0 pointer-events-none mix-blend-normal">
                 <div className="w-full h-full bg-gradient-to-t from-rose-600/30 via-sky-400/20 to-transparent" />
              </div>
              {/* Fade inicial */}
              <div
                className={`absolute inset-0 flex flex-col items-center justify-center text-white transition-opacity duration-[3000ms] ${
                  fadeIn ? "opacity-100" : "opacity-0 pointer-events-none"
                }`}
                style={{ background: "rgba(0,0,0,0.25)" }}
              >
                <h2 className="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-2 animate-fade">
                  {debutante}
                </h2>
                <p className="text-lg sm:text-xl text-amber-300">15 anos</p>
              </div>

              <div className="absolute inset-0 bg-gradient-to-t from-black/35 to-transparent flex items-end justify-center text-white font-semibold text-sm sm:text-lg pb-3 opacity-90 group-hover:opacity-100">
                Clique para ouvir ðŸŽµ
              </div>
            </div>

            <section className="mt-8 sm:mt-10">
              <p className="uppercase tracking-[0.3em] text-xs sm:text-sm text-rose-600/80">Save the date</p>
              <h2 className="mt-2 text-4xl sm:text-5xl md:text-6xl font-black leading-tight">
                {debutante} <span className="text-amber-500">15</span> anos
              </h2>
              <p className="mt-3 sm:mt-4 text-rose-900/80 max-w-xl mx-auto text-sm sm:text-base">
                O grande dia estÃ¡ chegando! Venha celebrar este momento Ãºnico.
              </p>

              {/* Contador */}
              <div className="mt-8 sm:mt-10">
                {diff > 0 ? (
                  <div className="grid grid-flow-col auto-cols-max gap-2 sm:gap-4 md:gap-6 text-center justify-center">
                    <BlocoTempo rotulo="dias" valor={days} grande />
                    <Separador />
                    <BlocoTempo rotulo="horas" valor={hours} grande />
                    <Separador />
                    <BlocoTempo rotulo="min" valor={minutes} grande />
                    <Separador />
                    <BlocoTempo rotulo="seg" valor={seconds} grande />
                  </div>
                ) : (
                  <div className="text-3xl sm:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-rose-600 to-sky-500 animate-pulse">
                    Ã‰ HOJE! âœ¨
                  </div>
                )}
              </div>

              {/* Local e botÃµes */}
              <div className="mt-8 space-y-1 text-sm sm:text-base">
                <p><strong>Local:</strong> {locationName} Â· {locationCity}</p>
                <p><strong>Data:</strong> {formatarData(targetDate)} Ã s {formatarHora(targetDate)}</p>
              </div>

              <div className="mt-6 sm:mt-8 flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 flex-wrap">
                <a href={whatsappHref} target="_blank" rel="noreferrer"
                   className="inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm sm:text-base font-semibold shadow-lg bg-gradient-to-r from-rose-600 via-pink-600 to-sky-500 text-white hover:opacity-95 transition"
                   onClick={() => setHasInteracted(true)}>
                  Confirmar no WhatsApp
                </a>
                <a href={mapsUrl} target="_blank" rel="noreferrer"
                   className="inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm sm:text-base font-semibold border border-rose-300/60 bg-white/60 backdrop-blur hover:bg-white/80 transition">
                  Ver no Maps
                </a>
                <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Festa+de+15+anos+da+Lorena&dates=20251127T230000Z/20251128T030000Z&details=Festa+de+15+anos+da+Lorena+no+EspaÃ§o+Novo+Horizonte,+Aracaju.&location=EspaÃ§o+Novo+Horizonte,+Aracaju,+SE"
                   target="_blank" rel="noreferrer"
                   className="inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm sm:text-base font-semibold border border-pink-200/60 bg-white/60 backdrop-blur hover:bg-white/80 transition">
                  ðŸ“… Adicionar ao calendÃ¡rio
                </a>
              </div>
            </section>

            <footer className="mt-14 mb-8 text-xs sm:text-sm text-rose-900/60">
              <p>Convite digital por <strong>Lâ€™Amour Fotografia</strong> & <strong>DeniSantos</strong></p>
            </footer>
          </main>

          <style>{`
            @keyframes floatUp {
              0% { transform: translateY(0) scale(1); opacity: 0; }
              10% { opacity: 1; }
              100% { transform: translateY(-120vh) scale(1.1); opacity: 0; }
            }
            @keyframes twinkle {
              0%, 100% { opacity: 0.2; }
              50% { opacity: 1; }
            }
            @keyframes fade { from { opacity: 0; transform: scale(0.95);} to { opacity: 1; transform: scale(1);} }
            .animate-fade { animation: fade 2.5s ease-out forwards; }
          `}</style>
        </div>
      );
    }

    function BlocoTempo({ valor, rotulo, grande = false }) {
      const pad = (n) => n.toString().padStart(2, "0");
      const display = valor > 99 ? valor : pad(valor);
      return (
        <div className="flex flex-col items-center">
          <div className={["font-black leading-none rounded-2xl shadow-xl",
            "bg-white/70 backdrop-blur border border-white/40",
            grande ? "text-3xl sm:text-5xl md:text-6xl px-4 sm:px-6 py-3 sm:py-5" : "text-xl px-3 py-2",
          ].join(" ")}>
            {display}
          </div>
          <span className="mt-2 uppercase tracking-wider text-[10px] sm:text-xs text-rose-800/70">{rotulo}</span>
        </div>
      );
    }

    function Separador() {
      return <div className="self-stretch w-[1.5px] bg-gradient-to-b from-rose-400/40 to-sky-400/40 rounded-full" />;
    }

    function formatarData(date) {
      return new Intl.DateTimeFormat("pt-BR", { day: "2-digit", month: "long", year: "numeric" }).format(date);
    }

    function formatarHora(date) {
      return new Intl.DateTimeFormat("pt-BR", { hour: "2-digit", minute: "2-digit" }).format(date);
    }

    function BackgroundElegante() {
      const dots = useMemo(() => {
        const arr = [];
        for (let i = 0; i < 40; i++) {
          arr.push({
            id: i,
            left: Math.random() * 100,
            size: Math.random() * 6 + 2,
            delay: Math.random() * 6,
            duration: 10 + Math.random() * 16,
            opacity: 0.15 + Math.random() * 0.3,
          });
        }
        return arr;
      }, []);

      return (
        <div aria-hidden="true" className="absolute inset-0">
          <div className="absolute -top-1/3 left-1/2 -translate-x-1/2 w-[120vw] h-[120vw] rounded-full bg-rose-200/50 blur-3xl" />
          <div className="absolute bottom-[-20%] right-[-10%] w-[60vw] h-[60vw] rounded-full bg-sky-200/40 blur-3xl" />
          <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,transparent_60%,rgba(0,0,0,0.06))]" />
          {dots.map((d) => (
            <span key={d.id} className="absolute rounded-full"
              style={{
                left: `${d.left}vw`,
                bottom: `-10vh`,
                width: d.size,
                height: d.size,
                background: "linear-gradient(180deg, rgba(173,216,255,0.9), rgba(100,180,255,0.6))",
                boxShadow: "0 0 12px rgba(255,200,120,0.6)",
                opacity: d.opacity,
                animation: `floatUp ${d.duration}s linear ${d.delay}s infinite, twinkle 3.5s ease-in-out ${d.delay}s infinite`,
              }} />
          ))}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<QuinzeAnosConvite />);
  </script>
</body>
</html>